<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tu Guía Rápida: Toxina Botulínica</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Estilos para el spinner de carga */
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #ffffff;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 text-gray-800 p-4 sm:p-8 flex items-center justify-center">

    <div class="max-w-4xl mx-auto bg-white shadow-xl rounded-3xl overflow-hidden my-8 p-6 sm:p-10">
        <!-- Sección de Encabezado -->
        <header class="text-center mb-8">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-blue-800 leading-tight mb-2">
                Tu Guía Rápida
            </h1>
            <h2 class="text-2xl sm:text-3xl font-semibold text-indigo-600 mb-4">
                Toxina Botulínica: ¿Es para ti?
            </h2>
            <p class="text-lg text-gray-600 italic">
                Descubre cómo realzar tu belleza natural
            </p>
        </header>

        <!-- Imagen Introductoria -->
        <div class="mb-8 rounded-2xl overflow-hidden shadow-lg">
            <img
                src="https://placehold.co/800x450/E0F2F7/0288D1?text=Rostro+fresco+y+natural"
                alt="Rostro radiante y relajado"
                class="w-full h-auto object-cover"
                onerror="this.onerror=null;this.src='https://placehold.co/800x450/CCCCCC/333333?text=Imagen+no+disponible';"
            />
        </div>

        <!-- Introducción -->
        <section class="mb-8">
            <p class="text-xl leading-relaxed mb-4">
                <span class="font-bold text-indigo-700">¡Hola!</span> Como <span class="font-bold text-blue-700">residente de cirugía plástica</span>, mi misión es ofrecerte información clara y confiable. Esta guía concisa te ayudará a entender la toxina botulínica y si es ideal para ti, siempre bajo supervisión experta.
            </p>
        </section>

        <!-- Sección: Qué hace -->
        <section class="mb-8 p-6 bg-blue-50 rounded-2xl shadow-inner">
            <h3 class="flex items-center text-2xl font-bold text-blue-700 mb-4">
                <!-- Icono Lightbulb -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-lightbulb text-blue-500 mr-2">
                    <path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 3c0 1.3.5 2.6 1.5 3.5.8.8 1.3 1.5 1.5 2.5"></path>
                    <path d="M9 18h6"></path>
                    <path d="M10 22h4"></path>
                    <path d="M11 17h2"></path>
                </svg>
                Toxina Botulínica: ¿Qué es?
            </h3>
            <ul class="list-disc pl-6 space-y-2 text-lg text-gray-700">
                <li>Relaja <span class="font-semibold text-blue-600">temporalmente</span> músculos faciales.</li>
                <li><span class="font-semibold text-blue-600">Suaviza arrugas de expresión</span> (frente, entrecejo, patas de gallo).</li>
                <li><span class="font-semibold text-blue-600">Previene</span> nuevas líneas y profundización.</li>
                <li>Resultado: Apariencia <span class="font-semibold text-blue-600">fresca y natural</span>.</li>
            </ul>
        </section>

        <!-- Imagen de ejemplo de rostro relajado -->
        <div class="mb-8 rounded-2xl overflow-hidden shadow-lg">
            <img
                src="https://placehold.co/800x450/D1C4E9/673AB7?text=Piel+Renovada"
                alt="Rostro con piel suave y sin arrugas marcadas"
                class="w-full h-auto object-cover"
                onerror="this.onerror=null;this.src='https://placehold.co/800x450/CCCCCC/333333?text=Imagen+no+disponible';"
            />
        </div>

        <!-- Sección: Señales para beneficiarse ahora -->
        <section class="mb-8 p-6 bg-indigo-50 rounded-2xl shadow-inner">
            <h3 class="flex items-center text-2xl font-bold text-indigo-700 mb-4">
                <!-- Icono Calendar -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar-days text-indigo-500 mr-2">
                    <rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect>
                    <line x1="16" x2="16" y1="2" y2="6"></line>
                    <line x1="8" x2="8" y1="2" y2="6"></line>
                    <line x1="3" x2="21" y1="10" y2="10"></line>
                    <path d="M8 14h.01"></path>
                    <path d="M12 14h.01"></path>
                    <path d="M16 14h.01"></path>
                    <path d="M8 18h.01"></path>
                    <path d="M12 18h.01"></path>
                    <path d="M16 18h.01"></path>
                </svg>
                ¿Cuándo considerarla?
            </h3>
            <ul class="list-disc pl-6 space-y-2 text-lg text-gray-700">
                <li>Arrugas de expresión <span class="font-semibold">visibles en reposo</span>.</li>
                <li>Deseo de <span class="font-semibold">prevenir</span> el envejecimiento.</li>
                <li>Rostro que proyecta <span class="font-semibold">cansancio o enojo</span> sin sentirlo.</li>
                <li>Alivio para <span class="font-semibold">bruxismo o migrañas tensionales</span>.</li>
            </ul>
        </section>

        <!-- Sección: Cuándo esperar -->
        <section class="mb-8 p-6 bg-yellow-50 rounded-2xl shadow-inner">
            <h3 class="flex items-center text-2xl font-bold text-yellow-700 mb-4">
                <!-- Icono Clock -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-hourglass text-yellow-500 mr-2">
                    <path d="M5 22h14"></path>
                    <path d="M5 2h14"></path>
                    <path d="M17 22v-4.172a2 2 0 0 0-.593-1.403L12 12l-4.407 4.425A2 2 0 0 0 7 17.827V22"></path>
                    <path d="M7 2v4.172a2 2 0 0 0 .593 1.403L12 12l4.407-4.425A2 2 0 0 0 17 6.173V2"></path>
                </svg>
                ¿Quizás aún no?
            </h3>
            <ul class="list-disc pl-6 space-y-2 text-lg text-gray-700">
                <li>Arrugas <span class="font-semibold">mínimas</span>, solo al gesticular fuerte.</li>
                <li>Arrugas muy <span class="font-semibold">profundas y estáticas</span> (requieren enfoque complementario).</li>
                <li>No te sientes <span class="font-semibold">cómoda</span> o no es tu prioridad.</li>
            </ul>
        </section>

        <!-- Sección de Asistente Inteligente con Gemini API -->
        <section class="mb-8 p-6 bg-purple-50 rounded-2xl shadow-inner">
            <h3 class="flex items-center text-2xl font-bold text-purple-700 mb-4">
                <!-- Icono Sparkles -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sparkles text-purple-500 mr-2">
                    <path d="M9.9 10.9c.3.9-.7 1.6-1.5 1.1-.8-.5-1.1-1.5-.6-2.4.5-.9 1.6-1.1 2.4-.6.9.5 1.1 1.6.6 2.4Z"></path>
                    <path d="M12.2 2.2c.5 1-.4 2-1.3 1.5-.9-.4-1.4-1.5-1-2.5.4-1 1.5-1.4 2.5-1C13.2 1.2 13.1 2.1 12.2 2.2Z"></path>
                    <path d="M20.2 7.2c.5 1-.4 2-1.3 1.5-.9-.4-1.4-1.5-1-2.5.4-1 1.5-1.4 2.5-1C21.2 6.2 21.1 7.1 20.2 7.2Z"></path>
                    <path d="M15.2 18.2c.5 1-.4 2-1.3 1.5-.9-.4-1.4-1.5-1-2.5.4-1 1.5-1.4 2.5-1C16.2 17.2 16.1 18.1 15.2 18.2Z"></path>
                    <path d="M4.2 15.2c.5 1-.4 2-1.3 1.5-.9-.4-1.4-1.5-1-2.5.4-1 1.5-1.4 2.5-1C5.2 14.2 5.1 15.1 4.2 15.2Z"></path>
                </svg>
                Asistente IA: Preguntas Frecuentes
            </h3>
            <p class="text-lg leading-relaxed mb-4">
                ¿Dudas rápidas? Pregúntale a nuestro asistente virtual.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 mb-4">
                <input
                    type="text"
                    id="questionInput"
                    class="flex-grow p-3 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 text-lg"
                    placeholder="Ej: ¿Cuánto duran los efectos?"
                />
                <button
                    id="askButton"
                    class="px-6 py-3 bg-purple-600 text-white font-bold rounded-lg shadow-md hover:bg-purple-700 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed"
                >
                    <span id="buttonText">Preguntar ✨</span>
                    <svg id="spinner" class="animate-spin h-5 w-5 text-white hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                </button>
            </div>
            <p id="errorMessage" class="text-red-600 text-sm mt-2 hidden"></p>
            <div id="answerContainer" class="mt-4 p-4 bg-purple-100 border border-purple-300 rounded-lg text-lg leading-relaxed hidden">
                <p class="font-semibold text-purple-800 mb-2">Respuesta:</p>
                <p id="answerText"></p>
                <p class="text-sm italic text-gray-600 mt-3">
                    Recuerda: Información general. Consulta personalizada indispensable.
                </p>
            </div>
        </section>

        <!-- Nueva Sección: Descubre tus Beneficios Personalizados -->
        <section class="mb-8 p-6 bg-teal-50 rounded-2xl shadow-inner">
            <h3 class="flex items-center text-2xl font-bold text-teal-700 mb-4">
                <!-- Icono Sparkles -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sparkles text-teal-500 mr-2">
                    <path d="M9.9 10.9c.3.9-.7 1.6-1.5 1.1-.8-.5-1.1-1.5-.6-2.4.5-.9 1.6-1.1 2.4-.6.9.5 1.1 1.6.6 2.4Z"></path>
                    <path d="M12.2 2.2c.5 1-.4 2-1.3 1.5-.9-.4-1.4-1.5-1-2.5.4-1 1.5-1.4 2.5-1C13.2 1.2 13.1 2.1 12.2 2.2Z"></path>
                    <path d="M20.2 7.2c.5 1-.4 2-1.3 1.5-.9-.4-1.4-1.5-1-2.5.4-1 1.5-1.4 2.5-1C21.2 6.2 21.1 7.1 20.2 7.2Z"></path>
                    <path d="M15.2 18.2c.5 1-.4 2-1.3 1.5-.9-.4-1.4-1.5-1-2.5.4-1 1.5-1.4 2.5-1C16.2 17.2 16.1 18.1 15.2 18.2Z"></path>
                    <path d="M4.2 15.2c.5 1-.4 2-1.3 1.5-.9-.4-1.4-1.5-1-2.5.4-1 1.5-1.4 2.5-1C5.2 14.2 5.1 15.1 4.2 15.2Z"></path>
                </svg>
                Beneficios Personalizados
            </h3>
            <p class="text-lg leading-relaxed mb-4">
                ¿Qué te gustaría mejorar? Escribe tu preocupación y descubre cómo la toxina botulínica puede ayudarte.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 mb-4">
                <input
                    type="text"
                    id="benefitInput"
                    class="flex-grow p-3 border border-teal-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-400 text-lg"
                    placeholder="Ej: arrugas en la frente"
                />
                <button
                    id="getBenefitButton"
                    class="px-6 py-3 bg-teal-600 text-white font-bold rounded-lg shadow-md hover:bg-teal-700 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed"
                >
                    <span id="benefitButtonText">Ver Beneficios ✨</span>
                    <svg id="benefitSpinner" class="animate-spin h-5 w-5 text-white hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                </button>
            </div>
            <p id="benefitErrorMessage" class="text-red-600 text-sm mt-2 hidden"></p>
            <div id="benefitAnswerContainer" class="mt-4 p-4 bg-teal-100 border border-teal-300 rounded-lg text-lg leading-relaxed hidden">
                <p class="font-semibold text-teal-800 mb-2">Beneficios potenciales:</p>
                <p id="benefitAnswerText"></p>
                <p class="text-sm italic text-gray-600 mt-3">
                    Recuerda: Información general. Consulta personalizada indispensable.
                </p>
            </div>
        </section>

        <!-- Nueva Sección: Desmintiendo Mitos -->
        <section class="mb-8 p-6 bg-orange-50 rounded-2xl shadow-inner">
            <h3 class="flex items-center text-2xl font-bold text-orange-700 mb-4">
                <!-- Icono Sparkles -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sparkles text-orange-500 mr-2">
                    <path d="M9.9 10.9c.3.9-.7 1.6-1.5 1.1-.8-.5-1.1-1.5-.6-2.4.5-.9 1.6-1.1 2.4-.6.9.5 1.1 1.6.6 2.4Z"></path>
                    <path d="M12.2 2.2c.5 1-.4 2-1.3 1.5-.9-.4-1.4-1.5-1-2.5.4-1 1.5-1.4 2.5-1C13.2 1.2 13.1 2.1 12.2 2.2Z"></path>
                    <path d="M20.2 7.2c.5 1-.4 2-1.3 1.5-.9-.4-1.4-1.5-1-2.5.4-1 1.5-1.4 2.5-1C21.2 6.2 21.1 7.1 20.2 7.2Z"></path>
                    <path d="M15.2 18.2c.5 1-.4 2-1.3 1.5-.9-.4-1.4-1.5-1-2.5.4-1 1.5-1.4 2.5-1C16.2 17.2 16.1 18.1 15.2 18.2Z"></path>
                    <path d="M4.2 15.2c.5 1-.4 2-1.3 1.5-.9-.4-1.4-1.5-1-2.5.4-1 1.5-1.4 2.5-1C5.2 14.2 5.1 15.1 4.2 15.2Z"></path>
                </svg>
                Desmintiendo Mitos
            </h3>
            <p class="text-lg leading-relaxed mb-4">
                ¿Has escuchado un mito sobre la toxina botulínica? Escríbelo y te daremos la verdad.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 mb-4">
                <input
                    type="text"
                    id="mythInput"
                    class="flex-grow p-3 border border-orange-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 text-lg"
                    placeholder="Ej: La toxina botulínica paraliza la cara."
                />
                <button
                    id="debunkMythButton"
                    class="px-6 py-3 bg-orange-600 text-white font-bold rounded-lg shadow-md hover:bg-orange-700 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed"
                >
                    <span id="mythButtonText">Desmentir Mito ✨</span>
                    <svg id="mythSpinner" class="animate-spin h-5 w-5 text-white hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                </button>
            </div>
            <p id="mythErrorMessage" class="text-red-600 text-sm mt-2 hidden"></p>
            <div id="mythAnswerContainer" class="mt-4 p-4 bg-orange-100 border border-orange-300 rounded-lg text-lg leading-relaxed hidden">
                <p class="font-semibold text-orange-800 mb-2">Aclaración:</p>
                <p id="mythAnswerText"></p>
                <p class="text-sm italic text-gray-600 mt-3">
                    Recuerda: Información general. Consulta personalizada indispensable.
                </p>
            </div>
        </section>

        <!-- Conclusión y Llamada a la Acción -->
        <section class="p-6 bg-green-50 rounded-2xl shadow-lg">
            <h3 class="flex items-center text-3xl font-bold text-green-700 mb-6">
                <!-- Icono CheckCircle -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check-circle text-green-500 mr-3">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                    <path d="m9 11 3 3L22 4"></path>
                </svg>
                Tu Próximo Paso: ¡Agenda Tu Consulta!
            </h3>
            <p class="text-lg leading-relaxed mb-4">
                La toxina botulínica es segura y efectiva para suavizar arrugas y rejuvenecer tu rostro.
            </p>
            <p class="text-xl font-semibold text-gray-900 mb-4">
                Si te interesa, ¡agenda tu consulta de valoración personalizada!
            </p>

            <div class="bg-white p-6 rounded-xl shadow-md border border-green-200 mb-8">
                <p class="text-2xl font-bold text-blue-800 text-center mb-4">
                    ¡Agenda tu Consulta Personalizada hoy mismo!
                </p>
                <p class="text-lg leading-relaxed mb-4">
                    Nuestro equipo médico, incluyendo tu servidor como <span class="font-semibold text-blue-700">residente de cirugía plástica</span>, te espera para:
                </p>
                <ul class="list-disc pl-8 space-y-2 text-lg text-gray-700 mb-4">
                    <li>Escucharte y entender tus deseos.</li>
                    <li>Evaluar tu caso y responder tus preguntas.</li>
                    <li>Diseñar un plan de tratamiento transparente.</li>
                    <li>Procedimientos bajo <span class="font-bold text-blue-700">supervisión directa de especialistas</span>.</li>
                </ul>
                <p class="text-lg leading-relaxed text-center font-semibold text-gray-800">
                    Tu camino hacia un rostro fresco y lleno de confianza comienza con una conversación informada.
                </p>
            </div>

            <!-- Información de Contacto Actualizada y Simplificada -->
            <div class="text-center space-y-4 text-xl font-semibold text-gray-700">
                <p class="flex items-center justify-center gap-2">
                    <!-- Icono Whatsapp -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle text-green-500">
                        <path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"></path>
                    </svg>
                    <a href="https://wa.me/573176491386" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">317 649 1386</a>
                </p>
                <p class="flex items-center justify-center gap-2">
                    <!-- Icono Instagram -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-instagram text-pink-500">
                        <rect width="20" height="20" x="2" y="2" rx="5" ry="5"></rect>
                        <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                        <line x1="17.5" x2="17.5" y1="6.5" y2="6.5"></line>
                    </svg>
                    <a href="https://www.instagram.com/drjuantaborda" target="_blank" rel="noopener noreferrer" class="text-purple-600 hover:underline">@drjuantaborda</a>
                </p>
            </div>

            <p class="text-center text-2xl font-bold text-blue-800 mt-8">
                ¡Descubre tu mejor versión!
            </p>
        </section>
    </div>

    <script>
        // Funciones para llamar a la API de Gemini
        const callGeminiAPI = async (prompt, successCallback, errorCallback, spinnerElement, buttonTextElement, buttonElement) => {
            spinnerElement.classList.remove('hidden');
            buttonTextElement.classList.add('hidden');
            buttonElement.disabled = true;

            try {
                const chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                const payload = { contents: chatHistory };
                const apiKey = ""; // La clave API se proporcionará automáticamente en el entorno de Canvas
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    successCallback(result.candidates[0].content.parts[0].text);
                } else {
                    errorCallback('No se pudo obtener una respuesta. Por favor, intenta de nuevo.');
                    console.error('Estructura de respuesta inesperada:', result);
                }
            } catch (err) {
                console.error('Error al llamar a la API de Gemini:', err);
                errorCallback('Hubo un error al procesar tu solicitud. Por favor, inténtalo de nuevo más tarde.');
            } finally {
                spinnerElement.classList.add('hidden');
                buttonTextElement.classList.remove('hidden');
                buttonElement.disabled = false;
            }
        };

        // Asistente Inteligente (Pregunta general)
        const questionInput = document.getElementById('questionInput');
        const askButton = document.getElementById('askButton');
        const buttonText = document.getElementById('buttonText');
        const spinner = document.getElementById('spinner');
        const errorMessage = document.getElementById('errorMessage');
        const answerContainer = document.getElementById('answerContainer');
        const answerText = document.getElementById('answerText');

        const handleAskQuestion = async () => {
            const question = questionInput.value.trim();
            answerContainer.classList.add('hidden');
            errorMessage.classList.add('hidden');

            if (!question) {
                errorMessage.textContent = 'Por favor, escribe tu pregunta.';
                errorMessage.classList.remove('hidden');
                return;
            }

            const prompt = `Eres un asistente virtual amable y profesional que brinda información general sobre tratamientos estéticos. Basándote en la información de una guía para pacientes sobre toxina botulínica, responde a la siguiente pregunta de forma concisa y fácil de entender, siempre enfatizando la importancia de una consulta médica personalizada para un diagnóstico y plan de tratamiento exacto. Si la pregunta es fuera de tu alcance o requiere un diagnóstico específico, indícalo amablemente y redirige a la consulta médica.

            Pregunta del paciente: ${question}`;

            await callGeminiAPI(
                prompt,
                (response) => {
                    answerText.textContent = response;
                    answerContainer.classList.remove('hidden');
                },
                (errorMsg) => {
                    errorMessage.textContent = errorMsg;
                    errorMessage.classList.remove('hidden');
                },
                spinner, buttonText, askButton
            );
        };

        // Beneficios Personalizados
        const benefitInput = document.getElementById('benefitInput');
        const getBenefitButton = document.getElementById('getBenefitButton');
        const benefitButtonText = document.getElementById('benefitButtonText');
        const benefitSpinner = document.getElementById('benefitSpinner');
        const benefitErrorMessage = document.getElementById('benefitErrorMessage');
        const benefitAnswerContainer = document.getElementById('benefitAnswerContainer');
        const benefitAnswerText = document.getElementById('benefitAnswerText');

        const handleGetPersonalizedBenefit = async () => {
            const concern = benefitInput.value.trim();
            benefitAnswerContainer.classList.add('hidden');
            benefitErrorMessage.classList.add('hidden');

            if (!concern) {
                benefitErrorMessage.textContent = 'Por favor, describe tu preocupación (ej. arrugas en la frente).';
                benefitErrorMessage.classList.remove('hidden');
                return;
            }

            const prompt = `Eres un asistente virtual amable y profesional que explica los beneficios de la toxina botulínica. Dado que la preocupación del paciente es "${concern}", explica de manera amigable y profesional cómo la toxina botulínica puede abordar esta preocupación y qué beneficios específicos podría esperar el paciente, siempre recomendando una consulta médica personalizada para un diagnóstico y plan de tratamiento exacto.`;

            await callGeminiAPI(
                prompt,
                (response) => {
                    benefitAnswerText.textContent = response;
                    benefitAnswerContainer.classList.remove('hidden');
                },
                (errorMsg) => {
                    benefitErrorMessage.textContent = errorMsg;
                    benefitErrorMessage.classList.remove('hidden');
                },
                benefitSpinner, benefitButtonText, getBenefitButton
            );
        };

        // Desmintiendo Mitos
        const mythInput = document.getElementById('mythInput');
        const debunkMythButton = document.getElementById('debunkMythButton');
        const mythButtonText = document.getElementById('mythButtonText');
        const mythSpinner = document.getElementById('mythSpinner');
        const mythErrorMessage = document.getElementById('mythErrorMessage');
        const mythAnswerContainer = document.getElementById('mythAnswerContainer');
        const mythAnswerText = document.getElementById('mythAnswerText');

        const handleDebunkMyth = async () => {
            const myth = mythInput.value.trim();
            mythAnswerContainer.classList.add('hidden');
            mythErrorMessage.classList.add('hidden');

            if (!myth) {
                mythErrorMessage.textContent = 'Por favor, escribe el mito que quieres desmentir.';
                mythErrorMessage.classList.remove('hidden');
                return;
            }

            const prompt = `Eres un asistente virtual amable y profesional. Un paciente ha escuchado el siguiente mito sobre la toxina botulínica: "${myth}". Por favor, desmiente este mito de forma clara y concisa, basándote en información médica veraz, y refuerza la importancia de la información profesional y la consulta médica.`;

            await callGeminiAPI(
                prompt,
                (response) => {
                    mythAnswerText.textContent = response;
                    mythAnswerContainer.classList.remove('hidden');
                },
                (errorMsg) => {
                    mythErrorMessage.textContent = errorMsg;
                    mythErrorMessage.classList.remove('hidden');
                },
                mythSpinner, mythButtonText, debunkMythButton
            );
        };

        // Event Listeners
        askButton.addEventListener('click', handleAskQuestion);
        questionInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleAskQuestion(); });

        getBenefitButton.addEventListener('click', handleGetPersonalizedBenefit);
        benefitInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleGetPersonalizedBenefit(); });

        debunkMythButton.addEventListener('click', handleDebunkMyth);
        mythInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleDebunkMyth(); });
    </script>
</body>
</html>